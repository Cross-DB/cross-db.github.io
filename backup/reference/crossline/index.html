<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The Fastest Embedded Database in the world"><meta name=author content=CrossDB><link href=https://crossdb.org/backup/reference/crossline/ rel=canonical><link rel=icon href=../../../assets/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.11"><title>Crossline - CrossDB</title><link rel=stylesheet href=../../../assets/stylesheets/main.85bb2934.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.a6bdf11c.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/style/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-VPTG3S10X7"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-VPTG3S10X7",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-VPTG3S10X7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=light-blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#crossline class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=CrossDB class="md-header__button md-logo" aria-label=CrossDB data-md-component=logo> <img src=../../../assets/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> CrossDB </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Crossline </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/cross-db/crossdb title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> CrossDB </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../products/products/ class=md-tabs__link> Products </a> </li> <li class=md-tabs__item> <a href=../../../docs/introduction/ class=md-tabs__link> Document </a> </li> <li class=md-tabs__item> <a href=../../../blog/benchmark/crossdb-vs-sqlite3/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../about/about/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=CrossDB class="md-nav__button md-logo" aria-label=CrossDB data-md-component=logo> <img src=../../../assets/favicon.png alt=logo> </a> CrossDB </label> <div class=md-nav__source> <a href=https://github.com/cross-db/crossdb title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> CrossDB </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Products <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Products </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../products/products/ class=md-nav__link> Products </a> </li> <li class=md-nav__item> <a href=../../../products/download/ class=md-nav__link> Download </a> </li> <li class=md-nav__item> <a href=../../../products/CHANGELOG/ class=md-nav__link> Change Log </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Document <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Document </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../docs/introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../docs/get-started/ class=md-nav__link> Get Started </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> Embedded RDBMS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Embedded RDBMS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../docs/crossdb/database/ class=md-nav__link> Database </a> </li> <li class=md-nav__item> <a href=../../../docs/crossdb/schema/ class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=../../../docs/crossdb/table/ class=md-nav__link> Table </a> </li> <li class=md-nav__item> <a href=../../../docs/crossdb/indexes/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../docs/crossdb/transaction/ class=md-nav__link> Transaction </a> </li> <li class=md-nav__item> <a href=../../../docs/crossdb/dml/ class=md-nav__link> Data Manipulation Guide </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> API Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../docs/api/api/ class=md-nav__link> API List </a> </li> <li class=md-nav__item> <a href=../../../docs/api/ddl/ class=md-nav__link> Database Definition APIs </a> </li> <li class=md-nav__item> <a href=../../../docs/api/dml/ class=md-nav__link> Database Manipulation APIs </a> </li> <li class=md-nav__item> <a href=../../../docs/api/misc/ class=md-nav__link> Misc APIs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../docs/reference/crossdb-cli/ class=md-nav__link> CrossDB CLI </a> </li> <li class=md-nav__item> <a href=../../../docs/reference/crossbench/ class=md-nav__link> CrossDB Benchmark </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Blog <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> Benchmark <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Benchmark </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../blog/benchmark/crossdb-vs-sqlite3/ class=md-nav__link> CrossDB vs SQLite3 Benchmark </a> </li> <li class=md-nav__item> <a href=../../../blog/benchmark/crossdb-vs-lmdb/ class=md-nav__link> CrossDB vs LMDB Benchmark </a> </li> <li class=md-nav__item> <a href=../../../blog/benchmark/crossdb-vs-stlmap/ class=md-nav__link> CrossDB vs STL Map Benchmark </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../about/about/ class=md-nav__link> About US </a> </li> <li class=md-nav__item> <a href=../../../about/community/ class=md-nav__link> Community </a> </li> <li class=md-nav__item> <a href=../../../about/faq/ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#catalogue class=md-nav__link> Catalogue </a> </li> <li class=md-nav__item> <a href=#features-and-highlights class=md-nav__link> Features and Highlights </a> </li> <li class=md-nav__item> <a href=#background class=md-nav__link> Background </a> </li> <li class=md-nav__item> <a href=#shortcuts class=md-nav__link> Shortcuts </a> </li> <li class=md-nav__item> <a href=#multiple-line-mode class=md-nav__link> Multiple Line Mode </a> </li> <li class=md-nav__item> <a href=#history-search class=md-nav__link> History Search </a> </li> <li class=md-nav__item> <a href=#crossline-apis class=md-nav__link> Crossline APIs </a> </li> <li class=md-nav__item> <a href=#color-apis class=md-nav__link> Color APIs </a> </li> <li class=md-nav__item> <a href=#paging-apis class=md-nav__link> Paging APIs </a> </li> <li class=md-nav__item> <a href=#cursor-apis class=md-nav__link> Cursor APIs </a> </li> <li class=md-nav__item> <a href=#simple-example class=md-nav__link> Simple Example </a> </li> <li class=md-nav__item> <a href=#sql-parser-example class=md-nav__link> SQL Parser Example </a> </li> <li class=md-nav__item> <a href=#keyboard-debug class=md-nav__link> Keyboard Debug </a> </li> <li class=md-nav__item> <a href=#embedded-help class=md-nav__link> Embedded Help </a> </li> <li class=md-nav__item> <a href=#extend-crossline class=md-nav__link> Extend Crossline </a> </li> <li class=md-nav__item> <a href=#customized-config class=md-nav__link> Customized Config </a> </li> <li class=md-nav__item> <a href=#build-and-test class=md-nav__link> Build and Test </a> </li> <li class=md-nav__item> <a href=#related-projects class=md-nav__link> Related Projects </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=crossline>Crossline<a class=headerlink href=#crossline title="Permanent link">&para;</a></h1> <div class="admonition note"> <p class=admonition-title>I'm crossline</p> <p>If you want to build a project, you can hire Scifabric for designing, building, and analysing your data. Check Scifabric <a href=https://scifabric.com/pricing/ >solutions</a>.</p> </div> <blockquote> <p>💡 Note: If you want to build a project, you can hire Scifabric for designing, building, and analysing your data. Check Scifabric <a href=https://scifabric.com/pricing/ >solutions</a>.</p> </blockquote> <p>I'm developing a cross-platfrom command line tool which can support autocomplete and history. <strong>Readline</strong> library is the first choice, but it can't use on Windows directly and you need to link the readline library explicitly. You also need to install the libreadline-dev package to build and if target machine version mismatches with build machine, the program can't run. The libreadline has over 30K LOC and has two so files: libreadline.so libhistory.so, and it depends on libncurses also.</p> <p><a href=../crossdb/tutorial/introduction.md#architecture>introduction1</a></p> <p><a href=../../crossdb/tutorial/introduction/#architecture>introduction2</a></p> <p><a href=#color-apis>introduction3</a></p> <p><a href=../../crossdb/tutorial/introduction/#architecture>introduction4</a></p> <p><a href=../crossdb/tutorial/introduction.md#architecture>introduction5</a></p> <p><strong>Crossline</strong> is a small, self-contained, zero-config, MIT licensed, cross-platform, readline and libedit replacement.</p> <p>When should you use Crossline: * When you need a cross-platform readline: Windows, Linux, Unix, MacOS. * When you need a simple but versatile readline: more shortcuts, advanced search, simple autocomplete, paging, cusor APIs, color APIs, embedded help, etc. * When you need a customized readline: easy to extend. * When you need a small readline to build into program.</p> <p><img alt=img src=../doc/crossline_sql.png></p> <h2 id=catalogue>Catalogue<a class=headerlink href=#catalogue title="Permanent link">&para;</a></h2> <ul> <li><a href=#features-and-highlights>Features and Highlights</a></li> <li><a href=#background>Background</a></li> <li><a href=#shortcuts>Shortcuts</a></li> <li><a href=#multiple-line-mode>Multiple Line Mode</a></li> <li><a href=#history-search>History Search</a></li> <li><a href=#crossline-apis>Crossline APIs</a></li> <li><a href=#color-apis>Color APIs</a></li> <li><a href=#paging-apis>Paging APIs</a></li> <li><a href=#cursor-apis>Cursor APIs</a></li> <li><a href=#simple-example>Simple Example</a></li> <li><a href=#sql-parser-example>SQL Parser Example</a></li> <li><a href=#keyboard-debug>Keyboard Debug</a></li> <li><a href=#embedded-help>Embedded Help</a></li> <li><a href=#extend-crossline>Extend Crossline</a></li> <li><a href=#customized-config>Customized Config</a></li> <li><a href=#build-and-test>Build and Test</a></li> <li><a href=#related-projects>Related Projects</a></li> </ul> <h2 id=features-and-highlights>Features and Highlights<a class=headerlink href=#features-and-highlights title="Permanent link">&para;</a></h2> <ul> <li>Support many platforms: Windows, Linux, vt100 and xterm.</li> <li>Support total <code>79 shortcuts</code> and <code>40 functions</code>.</li> <li>Support most readline shortcuts (Emacs Standard bindings): move, edit, cut&amp;paste, complete, history, control.</li> <li>Support fast move between lines with <code>Up</code> <code>Down</code> and <code>Ctrl/Alt+Up</code> <code>Ctrl/Alt+Down</code> keys in multiple line edit mode.</li> <li>Support some Windows command line shortcuts and extend some new convenient shortcuts.</li> <li>Support history navigation, history show/clear and history save/load.</li> <li>Support readline with initial input for editing.</li> <li>Support autocomplete, key word help and syntax hints.</li> <li>Support powerful interactive history search with multiple case insensitive including and excluding match patterns.</li> <li>Support same edit shortcuts (except complete and history shortcuts) in history search mode.</li> <li>Support color text for prompt, autocomplete, hints.</li> <li>Support auto resizing when editing window/terminal size changed.</li> <li>Support autocomplete, history show/search, help info paging.</li> <li>Support cross platform paging control APIs.</li> <li>Support cross platform cursor control APIs.</li> <li>Support cross platform color control APIs.</li> <li>Support convenient embedded <code>F1</code> help in edit and history search mode, and you can call it anytime without losing current input.</li> <li>Support convenient embedded <code>Ctrl-^</code> keyboard debug mode to watch key code sequences.</li> <li>Support <code>Ctrl-C</code> to exit edit and <code>Ctrl-Z</code> to suspend and resume job(Linux) in both edit and search mode.</li> <li>Support pipe as input.</li> <li>Pure C MIT license source code, no 3<sup>rd</sup> library dependency.</li> <li>No any dynamic memory operations: malloc/free/realloc/new/delete/strdup/etc.</li> <li>Very small only about 1200 LOC, and code logic is simple and easy to read.</li> <li>Easy to customize your own shortcuts and new features.</li> <li>Unicode is to be supported later.</li> </ul> <h2 id=background>Background<a class=headerlink href=#background title="Permanent link">&para;</a></h2> <p>I'm developing a cross-platfrom command line tool which can support autocomplete and history. <strong>Readline</strong> library is the first choice, but it can't use on Windows directly and you need to link the readline library explicitly. You also need to install the libreadline-dev package to build and if target machine version mismatches with build machine, the program can't run. The libreadline has over 30K LOC and has two so files: libreadline.so libhistory.so, and it depends on libncurses also.</p> <p>Then I searched and found there's a small readline replacement <strong>linenoise</strong> written by Redis's author. Linenoise is used in Redis, MongoDB, and Android. It's very small (about 1,100 LOC), but it can only run on Linux and supports few shortcuts and features. Then I found there's a more powerful library <strong>linenoise-ng</strong> used in ArangoDB. It's based on MongoDB's linenoise which enhanced original linenoise to support Windows, more shortcuts, features and Unicode. But the code is embedded in MongoDB source code, then ArangoDB ported it out, did some improvements and made it an independent library.</p> <p>At first I planned to use linenoise-ng, but I found it's still big (about 4,300 LOC) and complex. It uses C++ and C together, and C/C++ dynamic memory is used also which is there in original linenoise. I think it can be much simpler, then I did some prototype verification, and use a different method to implement this brand new, simple, pure C cross-platform enhanced readline replacement library.</p> <h2 id=shortcuts>Shortcuts<a class=headerlink href=#shortcuts title="Permanent link">&para;</a></h2> <p><strong>Misc Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>F1</td> <td>Show edit shortcuts help.</td> </tr> <tr> <td>Ctrl-^</td> <td>Enter keyboard debugging mode.</td> </tr> </tbody> </table> <p><strong>Move Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>Ctrl-B, Left</td> <td>Move back a character.</td> </tr> <tr> <td>Ctrl-F, Right</td> <td>Move forward a character.</td> </tr> <tr> <td>Up</td> <td>Move cursor to up line. (For multiple lines)</td> </tr> <tr> <td>Ctrl-Up, Alt-Up, ESC+Up</td> <td>Move cursor to up line. (Ctrl-Up, Alt-Up only supports Windows/Xterm)</td> </tr> <tr> <td>Down</td> <td>Move cursor to down line. (Ctrl-Down, Alt-Down only support Windows/Xterm)</td> </tr> <tr> <td>Ctrl-Down, Alt-Down, ESC+Down</td> <td>Move cursor to down line. (Ctrl-Down, Alt-Down only support Windows/Xterm)</td> </tr> <tr> <td>Alt-B, Ctrl-Left, Alt-Left, ESC+Left</td> <td>Move back a word. (Ctrl-Left, Alt-Left only support Windows/Xterm)</td> </tr> <tr> <td>Alt-F, Ctrl-Right, Alt-Right, ESC+Right</td> <td>Move forward a word. (Ctrl-Right, Alt-Right only support Windows/Xterm)</td> </tr> <tr> <td>Ctrl-A, Home</td> <td>Move cursor to start of line.</td> </tr> <tr> <td>Ctrl-E, End</td> <td>Move cursor to end of line.</td> </tr> <tr> <td>Ctrl-L</td> <td>Clear screen and redisplay line.</td> </tr> </tbody> </table> <p><strong>Edit Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>Ctrl-H, Backspace</td> <td>Delete character before cursor.</td> </tr> <tr> <td>Ctrl-D, DEL</td> <td>Delete character under cursor.</td> </tr> <tr> <td>Alt-U</td> <td>Uppercase current or following word.</td> </tr> <tr> <td>Alt-L</td> <td>Lowercase current or following word.</td> </tr> <tr> <td>Alt-C</td> <td>Capitalize current or following word.</td> </tr> <tr> <td>Alt-\</td> <td>Delete whitespace around cursor.</td> </tr> <tr> <td>Ctrl-T</td> <td>Transpose previous character with current character.</td> </tr> </tbody> </table> <p><strong>Cut&amp;Paste Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>Ctrl-K, Ctrl-End, Alt-End, ESC+End</td> <td>Cut from cursor to end of line. (Ctrl-End, Alt-End only support Windows/Xterm)</td> </tr> <tr> <td>Ctrl-U, Ctrl-Home, Alt-Home, ESC+Home</td> <td>Cut from start of line to cursor. (Ctrl-Home, Alt-Home only support Windows/Xterm)</td> </tr> <tr> <td>Ctrl-X</td> <td>Cut whole line.</td> </tr> <tr> <td>Alt-Backspace, Clt-Backspace, Esc+Backspace</td> <td>Cut word to left of cursor. (Clt-Backspace only supports Windows/Xterm)</td> </tr> <tr> <td>Alt-D, Alt-Del, Ctrl-Del, ESC+Del</td> <td>Cut word following cursor. (Alt-Del,Ctrl-Del only support Windows/Xterm)</td> </tr> <tr> <td>Ctrl-W</td> <td>Cut to left till whitespace (not word).</td> </tr> <tr> <td>Ctrl-Y, Ctrl-V, Insert</td> <td>Paste last cut text.</td> </tr> </tbody> </table> <p><strong>Complete Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>TAB, Ctrl-I</td> <td>Autocomplete.</td> </tr> <tr> <td>Alt-=, Alt-?</td> <td>List possible completions.</td> </tr> </tbody> </table> <p><strong>History Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>Ctrl-P, Up</td> <td>Fetch previous line in history. (Up works when cursor in first line or end of last line)</td> </tr> <tr> <td>Ctrl-N, Down</td> <td>Fetch next line in history. (Down works when cursor in last line)</td> </tr> <tr> <td>Alt-&lt;, PgUp</td> <td>Move to first line in history.</td> </tr> <tr> <td>Alt-&gt;, PgDn</td> <td>Move to end of input history.</td> </tr> <tr> <td>Ctrl-R, Ctrl-S</td> <td>Search history.</td> </tr> <tr> <td>F4</td> <td>Search history with current input.</td> </tr> <tr> <td>F1</td> <td>Show search help when in search mode.</td> </tr> <tr> <td>F2</td> <td>Show history.</td> </tr> <tr> <td>F3</td> <td>Clear history (need confirm).</td> </tr> </tbody> </table> <p><strong>Control Commands</strong></p> <table> <thead> <tr> <th>Shortcut</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td>Enter, Ctrl-J, Ctrl-M</td> <td>EOL and accept line.</td> </tr> <tr> <td>Ctrl-C, Ctrl-G</td> <td>EOF and abort line.</td> </tr> <tr> <td>Ctrl-D</td> <td>EOF if line is empty.</td> </tr> <tr> <td>Alt-R</td> <td>Revert line. Undo all changes made to this line.</td> </tr> <tr> <td>Ctrl-Z</td> <td>Suspend Job. (Linux only, fg will resume edit)</td> </tr> </tbody> </table> <p><strong>Notes</strong></p> <ul> <li>In multiple lines, <code>Up/Down</code> can move between lines. <code>Up</code> will fetch history when in first line or end of last line(for quick history move), and <code>Down</code> will fetch history when in last line.</li> <li>For Windows and xterm, almost all shortcuts are supported.</li> <li>For some terminal tools you need to enable Alt as meta key. SecureCRT: check <code>Terminal-&gt;Emulation-&gt;Emacs-&gt;use ALT as meta key</code></li> <li>Backspace key is 8 or 127, and Del key should use Escape code. SecurCRT: check <code>Terminal-&gt;Emulation-&gt;Mapped Keys-&gt;Backspace sends delete</code></li> <li>For vt100 and Linux terminals, many <code>Alt-key</code> doesn't work, and an alternate way is to press <code>ESC</code> first then press key, see above <code>ESC+Key</code>. Putty can send <code>Alt</code> as <code>ESC</code>, so no need to do this way.</li> <li><code>Ctrl+S</code> is readline shortcut to search history also, but it'll halt terminal, so don't use it with Linux system, use <code>Ctrl+Q</code> to exit freezing state if pressing by mistake.</li> </ul> <p><strong>Terminal Limitations</strong></p> <ul> <li>Some terminals only support <code>left Alt</code>.</li> <li>Linux console doesn't support: <code>Alt-?</code>, <code>Alt-&lt;</code>, <code>Alt-&gt;</code>.</li> <li>SecureCRT vt100 doesn't support: <code>Home</code>, <code>End</code>, <code>Del</code>, <code>Insert</code>, <code>PgUp</code>, <code>PgDn</code>.</li> <li>SecureCRT xterm doesn't support: <code>Ctrl-Home</code>, <code>Alt-Home</code>, <code>Ctrl-End</code>, <code>Alt-End</code>, <code>Alt-Del</code>, <code>Ctrl-Del</code>, <code>Clt-Backspace</code>.</li> </ul> <p><a href=#catalogue>Goto Top</a></p> <h2 id=multiple-line-mode>Multiple Line Mode<a class=headerlink href=#multiple-line-mode title="Permanent link">&para;</a></h2> <p>Crossline supports multiple line edit mode like readline. If you input a very long line and then you want to edit some part many lines above, it's not convenient to move to the position quickly even with Ctrl+Left. I used to copy input text to a GUI editor like notepad++, then edit and copy back. </p> <p>To move quickly in multiple lines, I implemented a multiple line edit mode like other editors and can use <code>Ctrl/Alt+Up</code> <code>Ctrl/Alt+Down</code> to move between lines quickly. You can also use <code>Up</code> <code>Down</code> key and to keep the original history shortcuts, the key behavior will behave as following:</p> <ul> <li>For single line, <code>Up</code> <code>Down</code> key are history shortcuts.</li> <li>In first line of multiple lines, <code>Down</code> key will move to below line, <code>Up</code> key will fetch previous history.</li> <li>In middle line of multiple lines, <code>Down</code> key will move to below line, <code>Up</code> key will move to above line.</li> <li>In last line(cursor not at end) of multiple lines, <code>Down</code> key will fetch next history, <code>Up</code> key will move to above line.</li> <li>In last line(cursor at end) of multiple lines, <code>Up</code> <code>Down</code> key are history shortcuts. This is to keep navigating history quickly.</li> <li><code>Ctrl-P</code> <code>Ctrl-N</code> history shortcuts are not changed.</li> </ul> <p>So if you want to use <code>Up</code> <code>Down</code> to move quickly between lines, make sure the cursor is not at end of last line, and if you want to navigate history quickly with <code>Up</code> <code>Down</code>, make sure the cursor is at end of last line in multiple lines.</p> <h2 id=history-search>History Search<a class=headerlink href=#history-search title="Permanent link">&para;</a></h2> <p>Original readline supports incremental search(<code>Ctrl-R</code>,<code>Ctrl-S</code>) and none-incremental search(<code>Alt-N</code>,<code>Alt-P</code>). I tried both and think they're not convenient or efficient to use, so I implemented a brand new interactive search method.</p> <p><strong>Enter interactive history search mode</strong></p> <ul> <li><code>Ctrl-R</code>: Search history.</li> <li><code>F4</code>: Search history with current input as search patterns.</li> </ul> <p><strong>Exit interactive history search mode</strong></p> <ul> <li><code>Ctrl-C</code>: You can exit search mode anytime and keep your original input.</li> <li><code>Ctrl-D</code>: On empty line only.</li> </ul> <p><strong>Input patterns</strong></p> <ul> <li>You can use all edit shortcuts except complete and history shortcuts.</li> <li>You can use <code>Insert</code>,<code>Ctrl-Y</code>,<code>Ctrl-S</code> to paste last search patterns.</li> <li>If nothing input will show all history (<code>F2</code> can show history too).</li> </ul> <p><strong>Patterns syntax</strong></p> <p>You can press <code>F1</code> to get help. Patterns are separated by <code>' '</code>, patter match is <code>case insensitive</code>. * <code>select</code>: choose line including <code>select</code> * <code>-select</code>: choose line excluding <code>select</code> * <code>"select from"</code>: choose line including <code>select from</code> * <code>-"select from"</code>: choose line excluding <code>select from</code> * <code>"select from" where -"order by" -limit</code> : choose line including <code>select from</code> and <code>where</code> and excluding <code>order by</code> or <code>limit</code></p> <p><strong>Select history</strong></p> <ul> <li>If only one history is found, id <code>1</code> is provided automatically, and you just press <code>Enter</code> to select.</li> <li>You can press <code>Ctrl-C</code> to skip choosing.</li> <li>You can press <code>Enter</code> or <code>Ctrl-D</code> on empty line to skip choosing.</li> </ul> <p><strong>Example</strong></p> <div class=highlight><pre><span></span><code>SQL&gt; &lt;F2&gt; // show history
   1  hello world
   2  select from user
   3  from select table
   4  SELECT from student
   5  Select from teacher

SQL&gt; &lt;Ctrl+R&gt;
Input Patterns &lt;F1&gt; help: select from
   1  select from user
   2  from select table
   3  SELECT from student
   4  Select from teacher
Input history id: 3
SQL&gt; SELECT from student&lt;Alt+R&gt; // Revert line

SQL&gt; &lt;F4&gt;
Input Patterns &lt;F1&gt; help: &lt;Insert&gt; // paste last history pattern: select from
Input Patterns &lt;F1&gt; help: &quot;select from&quot;
   1  select from user
   2  SELECT from student
   3  Select from teacher
Input history id: 3
SQL&gt; Select from teacher&lt;Alt+R&gt;

SQL&gt; SELECT from&lt;F4&gt; // search with pattern: Select from
Input Patterns &lt;F1&gt; help: SELECT from
Input Patterns &lt;F1&gt; help: &quot;SELECT from&quot; -user -teacher
   1  SELECT from student
Input history id: 1
SQL&gt; SELECT from student
</code></pre></div> <p><a href=#catalogue>Goto Top</a></p> <h2 id=crossline-apis>Crossline APIs<a class=headerlink href=#crossline-apis title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1>// Main API to read a line, return buf if get line, return NULL if EOF.</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=nf>crossline_readline</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>prompt</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buf</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=c1>// Same with crossline_readline except buf holding initial input for editing.</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=nf>crossline_readline2</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>prompt</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buf</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=c1>// Set move/cut word delimiter, default is all not digital and alphabetic characters.</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_delimiter_set</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>delim</span><span class=p>);</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=c1>// Read a character from terminal without echo</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=kt>int</span><span class=w>     </span><span class=nf>crossline_getch</span><span class=w> </span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</code></pre></div> <ul> <li>History APIs</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>// Save history to file</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=kt>int</span><span class=w>   </span><span class=nf>crossline_history_save</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>filename</span><span class=p>);</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=c1>// Load history from file</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=kt>int</span><span class=w>   </span><span class=nf>crossline_history_load</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>filename</span><span class=p>);</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=c1>// Show history in buffer</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_history_show</span><span class=w> </span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=c1>// Clear history</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_history_clear</span><span class=w> </span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</code></pre></div> <ul> <li>Completion APIs</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>crossline_completions_t</span><span class=w> </span><span class=n>crossline_completions_t</span><span class=p>;</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>typedef</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>crossline_completion_callback</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buf</span><span class=p>,</span><span class=w> </span><span class=n>crossline_completions_t</span><span class=w> </span><span class=o>*</span><span class=n>pCompletions</span><span class=p>);</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=c1>// Register completion callback</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_completion_register</span><span class=w> </span><span class=p>(</span><span class=n>crossline_completion_callback</span><span class=w> </span><span class=n>pCbFunc</span><span class=p>);</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1>// Add completion in callback. Word is must, help for word is optional.</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_completion_add</span><span class=w> </span><span class=p>(</span><span class=n>crossline_completions_t</span><span class=w> </span><span class=o>*</span><span class=n>pCompletions</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>word</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>help</span><span class=p>);</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=c1>// Set syntax hints in callback</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_hints_set</span><span class=w> </span><span class=p>(</span><span class=n>crossline_completions_t</span><span class=w> </span><span class=o>*</span><span class=n>pCompletions</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>hints</span><span class=p>);</span>
</code></pre></div> <h2 id=color-apis>Color APIs<a class=headerlink href=#color-apis title="Permanent link">&para;</a></h2> <p><strong>Color definitions</strong></p> <table> <thead> <tr> <th>Color</th> <th>Note</th> </tr> </thead> <tbody> <tr> <td>CROSSLINE_FGCOLOR_DEFAULT</td> <td>If not set, it's the default value.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_BLACK</td> <td>Set text color to black. <code>\t</code> is not supported in Linux terminal, same below</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_RED</td> <td>Set text color to red.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_GREEN</td> <td>Set text color to green.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_YELLOW</td> <td>Set text color to yellow.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_BLUE</td> <td>Set text color to blue.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_MAGENTA</td> <td>Set text color to magenta.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_CYAN</td> <td>Set text color to cyan.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_WHITE</td> <td>Set text color to white.</td> </tr> <tr> <td>CROSSLINE_FGCOLOR_BRIGHT</td> <td>Set text color bright.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_DEFAULT</td> <td>If not set, it's the default value.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_BLACK</td> <td>Set background color to black. <code>\t</code> is not supported in Linux terminal, same below. Don't use <code>\n</code> in Linux terminal, same below.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_RED</td> <td>Set background color to red.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_GREEN</td> <td>Set background color to green.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_YELLOW</td> <td>Set background color to yellow.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_BLUE</td> <td>Set background color to blue.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_MAGENTA</td> <td>Set background color to magenta.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_CYAN</td> <td>Set background color to cyan.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_WHITE</td> <td>Set background color to white.</td> </tr> <tr> <td>CROSSLINE_BGCOLOR_BRIGHT</td> <td>Set background color bright.</td> </tr> <tr> <td>CROSSLINE_UNDERLINE</td> <td>Set text to underline style.</td> </tr> <tr> <td>CROSSLINE_COLOR_DEFAULT</td> <td>If not set, it's the default value.</td> </tr> </tbody> </table> <p><code>CROSSLINE_FGCOLOR_DEFAULT</code>, <code>CROSSLINE_BGCOLOR_DEFAULT</code>, <code>CROSSLINE_COLOR_DEFAULT</code> are all zero, so it's fine to leave without it or just give 0.</p> <p><strong>Color APIs</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>// Set text color, CROSSLINE_COLOR_DEFAULT will revert to default setting</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=c1>// `\t` is not supported in Linux terminal, same below. Don&#39;t use `\n` in Linux terminal, same below.</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_color_set</span><span class=w> </span><span class=p>(</span><span class=n>crossline_color_e</span><span class=w> </span><span class=n>color</span><span class=p>);</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=c1>// Set default prompt color</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_prompt_color_set</span><span class=w> </span><span class=p>(</span><span class=n>crossline_color_e</span><span class=w> </span><span class=n>color</span><span class=p>);</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=c1>// Add completion with color.</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_completion_add_color</span><span class=w> </span><span class=p>(</span><span class=n>crossline_completions_t</span><span class=w> </span><span class=o>*</span><span class=n>pCompletions</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>word</span><span class=p>,</span><span class=w> </span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>                                    </span><span class=n>crossline_color_e</span><span class=w> </span><span class=n>wcolor</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>help</span><span class=p>,</span><span class=w> </span><span class=n>crossline_color_e</span><span class=w> </span><span class=n>hcolor</span><span class=p>);</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=c1>// Set syntax hints with color</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=kt>void</span><span class=w>  </span><span class=nf>crossline_hints_set_color</span><span class=w> </span><span class=p>(</span><span class=n>crossline_completions_t</span><span class=w> </span><span class=o>*</span><span class=n>pCompletions</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>hints</span><span class=p>,</span><span class=w> </span><span class=n>crossline_color_e</span><span class=w> </span><span class=n>color</span><span class=p>);</span>
</code></pre></div> <p><strong>Color Example</strong></p> <p>You can get the color example code in <code>example2.c</code> <code>color_test()</code></p> <p><img alt=img src=../doc/crossline_color.png></p> <p><a href=#catalogue>Goto Top</a></p> <h2 id=paging-apis>Paging APIs<a class=headerlink href=#paging-apis title="Permanent link">&para;</a></h2> <p>These APIs are used internally first, then I think they're common and can be used by CLI tools also, so make them open.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1>// Reset paging before starting paging control</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_paging_reset</span><span class=w> </span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=c1>// Check paging after print a line, return 1 means quit, 0 means continue</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=c1>// if you know only one line is printed, just give line_len = 1</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=kt>int</span><span class=w>  </span><span class=nf>crossline_paging_check</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>line_len</span><span class=p>);</span>
</code></pre></div> <p>Code in <code>example2.c</code> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>pagint_test</span><span class=w> </span><span class=p>()</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=p>{</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=n>crossline_paging_reset</span><span class=w> </span><span class=p>();</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>256</span><span class=p>;</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>        </span><span class=n>printf</span><span class=w> </span><span class=p>(</span><span class=s>&quot;Paging test: %3d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>);</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>crossline_paging_check</span><span class=w> </span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=s>&quot;paging test: &quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>3</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>            </span><span class=k>break</span><span class=p>;</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=p>}</span>
</code></pre></div></p> <p>It'll work as following:</p> <div class=highlight><pre><span></span><code>Crossline&gt; paging
Read line: &quot;paging&quot;
Paging test:   0
Paging test:   1
Paging test:   2
Paging test:   3
Paging test:   4
Paging test:   5
Paging test:   6
*** Press &lt;Space&gt; or &lt;Enter&gt; to continue . . .
</code></pre></div> <h2 id=cursor-apis>Cursor APIs<a class=headerlink href=#cursor-apis title="Permanent link">&para;</a></h2> <p>These APIs are used internally first, then I think they're common and can be used by CLI tools also, so make them open and write some APIs which are not used by crossline at all.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>// Get screen rows and columns</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_screen_get</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>pRows</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>pCols</span><span class=p>);</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1>// Clear current screen</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_screen_clear</span><span class=w> </span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=c1>// Get cursor postion (0 based)</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=kt>int</span><span class=w>  </span><span class=nf>crossline_cursor_get</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>pRow</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>pCol</span><span class=p>);</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=c1>// Set cursor postion (0 based)</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_cursor_set</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>row</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>col</span><span class=p>);</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=cm>/* Move cursor with row and column offset, </span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=cm> *   row_off &gt; 0 move up row_off lines, </span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=cm> *           &lt; 0 move down abs(row_off) lines</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=cm> *           = 0 no move for row, </span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=cm> *   similar with col_off</span>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=cm> */</span>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_cursor_move</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>row_off</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>col_off</span><span class=p>);</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=c1>// Hide or show cursor</span>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=kt>void</span><span class=w> </span><span class=nf>crossline_cursor_hide</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>bHide</span><span class=p>);</span>
</code></pre></div> <p><a href=#catalogue>Goto Top</a></p> <h2 id=simple-example>Simple Example<a class=headerlink href=#simple-example title="Permanent link">&para;</a></h2> <p><code>example.c</code> is a very simple example to use crossline.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>completion_hook</span><span class=w> </span><span class=p>(</span><span class=kt>char</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=o>*</span><span class=n>buf</span><span class=p>,</span><span class=w> </span><span class=n>crossline_completions_t</span><span class=w> </span><span class=o>*</span><span class=n>pCompletion</span><span class=p>)</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=p>{</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>cmd</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;insert&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;select&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;update&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;delete&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;create&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;drop&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;show&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;describe&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;help&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;exit&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;history&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;insert&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;select&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;update&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;delete&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;create&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;drop&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;show&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;describe&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;help&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;exit&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;history&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>};</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nb>NULL</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>cmd</span><span class=p>[</span><span class=n>i</span><span class=p>];</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>strncmp</span><span class=p>(</span><span class=n>buf</span><span class=p>,</span><span class=w> </span><span class=n>cmd</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=n>strlen</span><span class=p>(</span><span class=n>buf</span><span class=p>)))</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>            </span><span class=n>crossline_completion_add</span><span class=w> </span><span class=p>(</span><span class=n>pCompletion</span><span class=p>,</span><span class=w> </span><span class=n>cmd</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=p>}</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=w> </span><span class=p>()</span>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=p>{</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>buf</span><span class=p>[</span><span class=mi>256</span><span class=p>];</span>
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=w>    </span><span class=n>crossline_completion_register</span><span class=w> </span><span class=p>(</span><span class=n>completion_hook</span><span class=p>);</span>
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>    </span><span class=n>crossline_history_load</span><span class=w> </span><span class=p>(</span><span class=s>&quot;history.txt&quot;</span><span class=p>);</span>
<a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a>
<a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=nb>NULL</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>crossline_readline</span><span class=w> </span><span class=p>(</span><span class=s>&quot;Crossline&gt; &quot;</span><span class=p>,</span><span class=w> </span><span class=n>buf</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>buf</span><span class=p>)))</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a><span class=w>        </span><span class=n>printf</span><span class=w> </span><span class=p>(</span><span class=s>&quot;Read line: </span><span class=se>\&quot;</span><span class=s>%s</span><span class=se>\&quot;\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>buf</span><span class=p>);</span>
<a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=w>    </span><span class=p>}</span><span class=w>    </span>
<a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a>
<a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a><span class=w>    </span><span class=n>crossline_history_save</span><span class=w> </span><span class=p>(</span><span class=s>&quot;history.txt&quot;</span><span class=p>);</span>
<a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a><span class=p>}</span>
</code></pre></div> <p><code>example2.c</code> is an enhanced example, which supports color, color test, paging test and have the edit with initial input example.</p> <h2 id=sql-parser-example>SQL Parser Example<a class=headerlink href=#sql-parser-example title="Permanent link">&para;</a></h2> <p><code>example_sql.c</code>, this example implements a simple SQL syntax parser with following syntax format, please read code for details.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>column1</span><span class=o>=</span><span class=n>value1</span><span class=p>,</span><span class=n>column2</span><span class=o>=</span><span class=n>value2</span><span class=p>,...</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;*</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>column1</span><span class=p>,</span><span class=n>columnm2</span><span class=p>,...</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>WHERE</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>LIMIT</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>OFFSET</span><span class=p>]</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=k>UPDATE</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>column1</span><span class=o>=</span><span class=n>value1</span><span class=p>,</span><span class=n>column2</span><span class=o>=</span><span class=n>value2</span><span class=w> </span><span class=p>[</span><span class=k>WHERE</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>LIMIT</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>OFFSET</span><span class=p>]</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>WHERE</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>LIMIT</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>OFFSET</span><span class=p>]</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=k>CREATE</span><span class=w> </span><span class=p>[</span><span class=k>UNIQUE</span><span class=p>]</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=o>&lt;</span><span class=n>name</span><span class=o>&gt;</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=n>column1</span><span class=p>,</span><span class=n>column2</span><span class=p>,...)</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=k>DROP</span><span class=w> </span><span class=err>{</span><span class=k>TABLE</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>INDEX</span><span class=err>}</span><span class=w> </span><span class=o>&lt;</span><span class=n>name</span><span class=o>&gt;</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=k>SHOW</span><span class=w> </span><span class=err>{</span><span class=n>TABLES</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>DATABASES</span><span class=err>}</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=k>DESCRIBE</span><span class=w> </span><span class=o>&lt;</span><span class=k>TABLE</span><span class=o>&gt;</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=n>help</span><span class=w> </span><span class=err>{</span><span class=k>INSERT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>CREATE</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>DROP</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>SHOW</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>DESCRIBE</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>help</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>exit</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>history</span><span class=err>}</span>
</code></pre></div> You can use this example to practice the shortcuts above.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>SQL</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=n>TAB</span><span class=o>&gt;</span><span class=w>  </span><span class=o>//</span><span class=w> </span><span class=k>show</span><span class=w> </span><span class=n>autocomplete</span><span class=w> </span><span class=n>words</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>help</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=k>INSERT</span><span class=w>      </span><span class=k>Insert</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>record</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=k>table</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=k>SELECT</span><span class=w>      </span><span class=k>Select</span><span class=w> </span><span class=n>records</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=k>table</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=k>UPDATE</span><span class=w>      </span><span class=k>Update</span><span class=w> </span><span class=n>records</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=k>table</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=k>DELETE</span><span class=w>      </span><span class=k>Delete</span><span class=w> </span><span class=n>records</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=k>table</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=k>CREATE</span><span class=w>      </span><span class=k>Create</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=k>table</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=k>DROP</span><span class=w>        </span><span class=k>Drop</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=k>table</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=k>SHOW</span><span class=w>        </span><span class=k>Show</span><span class=w> </span><span class=n>tables</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=n>databases</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=k>DESCRIBE</span><span class=w>    </span><span class=k>Show</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=k>schema</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=n>help</span><span class=w>        </span><span class=k>Show</span><span class=w> </span><span class=n>help</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Topic</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=n>exit</span><span class=w>        </span><span class=n>Exit</span><span class=w> </span><span class=n>shell</span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=n>history</span><span class=w>     </span><span class=k>Show</span><span class=w> </span><span class=n>history</span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=w> </span><span class=o>***</span><span class=w> </span><span class=n>Press</span><span class=w> </span><span class=o>&lt;</span><span class=k>Space</span><span class=o>&gt;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=o>&lt;</span><span class=n>Enter</span><span class=o>&gt;</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=k>continue</span><span class=w> </span><span class=p>.</span><span class=w> </span><span class=p>.</span><span class=w> </span><span class=p>.</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=k>SQL</span><span class=o>&gt;</span><span class=w> </span><span class=n>help</span><span class=w> </span><span class=o>&lt;</span><span class=n>TAB</span><span class=o>&gt;</span><span class=w> </span><span class=o>//</span><span class=w> </span><span class=k>show</span><span class=w> </span><span class=n>autocomplete</span><span class=w> </span><span class=n>words</span><span class=w> </span><span class=n>list</span>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=k>INSERT</span><span class=w>    </span><span class=k>SELECT</span><span class=w>    </span><span class=k>UPDATE</span><span class=w>    </span><span class=k>DELETE</span><span class=w>    </span><span class=k>CREATE</span><span class=w>    </span><span class=k>DROP</span><span class=w>      </span><span class=k>SHOW</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=k>DESCRIBE</span><span class=w>  </span><span class=n>help</span><span class=w>      </span><span class=n>exit</span><span class=w>      </span><span class=n>history</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=k>SQL</span><span class=o>&gt;</span><span class=w> </span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=o>&lt;</span><span class=n>TAB</span><span class=o>&gt;</span><span class=w> </span><span class=o>//</span><span class=w> </span><span class=k>show</span><span class=w> </span><span class=n>autocomplete</span><span class=w> </span><span class=n>hints</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a><span class=n>Please</span><span class=w> </span><span class=k>input</span><span class=p>:</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>name</span>
</code></pre></div> <p><img alt=img src=../doc/crossline_sql.png></p> <p><a href=#catalogue>Goto Top</a></p> <h2 id=keyboard-debug>Keyboard Debug<a class=headerlink href=#keyboard-debug title="Permanent link">&para;</a></h2> <p><strong>Enter keyboard debug mode</strong></p> <p>Press <code>Ctrl-^</code> to enter keyboard debug mode, then you can type any key or composite key, and the code sequence will be displaced. This can be used to discover new key code sequences or debug especially for Linux system with different terminals. Note: For Windows, <code>Alt</code> key is a state, so it's not displayed.</p> <p><strong>Exit keyboard debug mode</strong></p> <p>Press <code>Ctrl-C</code> to exit.</p> <p><strong>Example</strong></p> <div class=highlight><pre><span></span><code>SQL&gt; &lt;Ctrl-^&gt;
Enter keyboard debug mode, &lt;Ctrl-C&gt; to exit debug
 27 0x1b ( )
 91 0x5b ([)
 65 0x41 (A)
 31 0x1f ( )
 27 0x1b ( )
 91 0x5b ([)
 72 0x48 (H)
</code></pre></div> <h2 id=embedded-help>Embedded Help<a class=headerlink href=#embedded-help title="Permanent link">&para;</a></h2> <p><strong>Edit mode</strong></p> <div class=highlight><pre><span></span><code>SQL&gt; &lt;F1&gt;
 Misc Commands
 +-------------------------+--------------------------------------------------+
 | F1                      |  Show edit shortcuts help.                       |
 | Ctrl-^                  |  Enter keyboard debugging mode.                  |
 +-------------------------+--------------------------------------------------+
 Move Commands
 +-------------------------+--------------------------------------------------+
 | Ctrl-B, Left            |  Move back a character.                          |
 | Ctrl-F, Right           |  Move forward a character.                       |
 | Up, ESC+Up              |  Move cursor to up line. (For multiple lines)    |
 |   Ctrl-Up, Alt-Up       |  (Ctrl-Up, Alt-Up only supports Windows/Xterm)   |
 | Down, ESC+Down          |  Move cursor to down line. (For multiple lines)  |
 |   Ctrl-Down,Alt-Down    |  (Ctrl-Down, Alt-Down only support Windows/Xterm)|
 | Alt-B, ESC+Left,        |  Move back a word.                               |
 |   Ctrl-Left, Alt-Left   |  (Ctrl-Left, Alt-Left only support Windows/Xterm)|
*** Press &lt;Space&gt; or &lt;Enter&gt; to continue . . .
</code></pre></div> <p><strong>Search mode</strong></p> <div class=highlight><pre><span></span><code>SQL&gt; &lt;F4&gt; or &lt;Ctrl+R&gt;
Input Patterns &lt;F1&gt; help: &lt;F1&gt;
Patterns are separated by &#39; &#39;, patter match is case insensitive:
    select:   choose line including &#39;select&#39;
    -select:  choose line excluding &#39;select&#39;
    &quot;select from&quot;:  choose line including &quot;select from&quot;
    -&quot;select from&quot;: choose line excluding &quot;select from&quot;
Example:
    &quot;select from&quot; where -&quot;order by&quot; -limit:
         choose line including &quot;select from&quot; and &#39;where&#39;
         and excluding &quot;order by&quot; or &#39;limit&#39;
</code></pre></div> <h2 id=extend-crossline>Extend Crossline<a class=headerlink href=#extend-crossline title="Permanent link">&para;</a></h2> <p>You can extend crossline to add new shortcuts and action easily.</p> <p><strong>Use keyboard debug mode to find the key code sequences</strong></p> <ul> <li>For Windows, most key has only one code, some function key has 2, first is 224 or 0, then follows another code. <code>Alt</code> key in Windows is a state, please refer <code>crossline_getkey</code>.</li> <li>For Linux system, most function key has an escape sequences(up to 6), and one function key may have many different escape sequences for different terminal modes, so you need to test case by case.</li> </ul> <p><strong>Define new key</strong></p> <ul> <li>For <code>Ctrl-key</code>, most are single code, and you can use <code>CTRL_KEY(key)</code> directly. </li> <li>For windows, most <code>Alt-key</code> can use <code>ALT_KEY(num)</code>.</li> <li>For Linux, most <code>Alt</code> key is escape sequences, and you can use existing macro like <code>ESC_KEY6</code>, example: <code>KEY_ALT_LEFT = ESC_KEY6('1','3','D'), // xterm Esc[1;3D: Move back a word.</code></li> </ul> <p><strong>Support new Esc+key</strong></p> <p>Please add the conversion in <code>crossline_key_esc2alt</code></p> <p><strong>Map new key to existing action</strong></p> <ul> <li>If it's a new different escape sequences for same key, please map the new key to main action key in <code>crossline_key_mapping</code>.</li> <li>If it's a new key, please add case to <code>crossline_readline_input</code>.</li> </ul> <p><strong>Add new action</strong></p> <p>Please add case and action code in <code>crossline_readline_input</code>. You can refer existing case of similar action to write your new action. Use <code>crossline_refreash</code> to print line after updating buf.</p> <p><strong>Debug your code</strong></p> <p>It's not easy to debug with print or debugger tools like GDB for terminal tools, and you can use <code>crossline_debug("xxx",...)</code> to print debug information to file <code>crossline_debug.txt</code>.</p> <p><a href=#catalogue>Goto Top</a></p> <h2 id=customized-config>Customized Config<a class=headerlink href=#customized-config title="Permanent link">&para;</a></h2> <p><strong>Word delimiters for move and cut</strong></p> <p>Default is defined by <code>CROSS_DFT_DELIMITER</code>. <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=cp>#define CROSS_DFT_DELIMITER            &quot; !\&quot;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~&quot;</span>
</code></pre></div> You can modify it or use <code>crossline_delimiter_set</code> to change it.</p> <p><strong>History</strong></p> <p>The history line len can be less than user buf len, and it'll cut to history line len when storing to history buf. <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=cp>#define CROSS_HISTORY_MAX_LINE       256         </span><span class=c1>// Maximum history line number</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=cp>#define CROSS_HISTORY_BUF_LEN        4096        </span><span class=c1>// History line length</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=cp>#define CROSS_HIS_MATCH_PAT_NUM      16          </span><span class=c1>// History search pattern number</span>
</code></pre></div></p> <p><strong>Completion</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=cp>#define CROSS_COMPLET_MAX_LINE        512        </span><span class=c1>// Maximum completion word number</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=cp>#define CROSS_COMPLET_WORD_LEN        64         </span><span class=c1>// Completion word length</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=cp>#define CROSS_COMPLET_HELP_LEN        256        </span><span class=c1>// Completion word&#39;s help length</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=cp>#define CROSS_COMPLET_HINT_LEN        128        </span><span class=c1>// Completion syntax hints length</span>
</code></pre></div></p> <h2 id=build-and-test>Build and Test<a class=headerlink href=#build-and-test title="Permanent link">&para;</a></h2> <p>On Windows, you can add the source code to a Visual Studio project to build or enter <code>Tools Command Prompt for VS</code> from menu to build in command line which is more efficient.</p> <p><strong>Windows MSVC</strong></p> <div class=highlight><pre><span></span><code>cl -D_CRT_SECURE_NO_WARNINGS -W4 User32.Lib crossline.c example.c /Feexample.exe
cl -D_CRT_SECURE_NO_WARNINGS -W4 User32.Lib crossline.c example2.c /Feexample2.exe
cl -D_CRT_SECURE_NO_WARNINGS -W4 User32.Lib crossline.c example_sql.c /Feexample_sql.exe
</code></pre></div> <p><strong>Windows Clang</strong></p> <div class=highlight><pre><span></span><code>clang -D_CRT_SECURE_NO_WARNINGS -Wall -lUser32 crossline.c example.c -o example.exe
clang -D_CRT_SECURE_NO_WARNINGS -Wall -lUser32 crossline.c example2.c -o example2.exe
clang -D_CRT_SECURE_NO_WARNINGS -Wall -lUser32 crossline.c example_sql.c -o example_sql.exe
</code></pre></div> <p><strong>GCC(Linux, MinGW, Cygwin, MSYS2)</strong></p> <div class=highlight><pre><span></span><code>gcc -Wall crossline.c example.c -o example
gcc -Wall crossline.c example2.c -o example2
gcc -Wall crossline.c example_sql.c -o example_sql
</code></pre></div> <p><strong>Linux Clang</strong></p> <div class=highlight><pre><span></span><code>clang -Wall crossline.c example.c -o example
clang -Wall crossline.c example2.c -o example2
clang -Wall crossline.c example_sql.c -o example_sql
</code></pre></div> <h2 id=related-projects>Related Projects<a class=headerlink href=#related-projects title="Permanent link">&para;</a></h2> <ul> <li><a href=https://github.com/antirez/linenoise>Linenoise</a> a small self-contained alternative to readline and libedit</li> <li><a href=https://github.com/arangodb/linenoise-ng>Linenoise-ng</a> is a fork of Linenoise that aims to add more advanced features like UTF-8 support, Windows support and other features. Uses C++ instead of C as development language.</li> </ul> <p><a href=#catalogue>Goto Top</a></p> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 CrossDB | <a href=/about/terms>Terms</a> | <a href=/about/privacy>Privacy</a> | <a href=/about/refund>Refund</a> | <a href=/about/about>About</a> | <span id=busuanzi_container_site_uv>Visitor <span id=busuanzi_value_site_uv></span> | <span id=busuanzi_container_page_pv>View <span id=busuanzi_value_page_pv></span> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/crossdb-org/crossdb target=_blank rel=noopener title=Github class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/CrossDbOrg target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=mailto:support@crossdb.org target=_blank rel=noopener title class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.fac441b0.min.js></script> <script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script> <script src=../../../assets/javascripts/baidu-tongji.js></script> </body> </html>